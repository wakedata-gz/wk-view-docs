import{d as c,h as u,w as f,a2 as w,a3 as _,a4 as h,o as l,c as k,z as C,A as P,B as g,b as A,E as y,K as i,a5 as E,u as x,p as b,k as L,a6 as B,a7 as R,a8 as D,a9 as N,aa as S,ab as T,ac as V,ad as $,ae as j,af as F,ag as O,ah as W,ai as z,aj as I}from"./chunks/framework.29196c9c.js";import{t as m}from"./chunks/theme.e73601f8.js";const M=["src"],q=c({__name:"WkvPreview",setup(e){const a="[wkvComponentName]",t=`https://wakedata-gz.github.io/wk-view-demo/#/pages/${a}/index`,n=u(),r=u("");f(n,o=>o&&d());const d=()=>{const o=n.value.parentElement;o.removeChild(n.value),o.parentElement.parentElement.appendChild(n.value)},p=()=>{const o=(location.pathname.match(/\/(wkv-.*)\.html/)||[])[1];o&&o!=="wkv-scss"?r.value=t.replace(a,o):r.value="",requestAnimationFrame(p)};return w(()=>{p()}),(o,X)=>_((l(),k("div",{ref_key:"wkvPreview",ref:n,class:"wkv-preivew"},[C("iframe",{class:"wkv-preivew__content",src:r.value},null,8,M)],512)),[[h,r.value]])}});const G=c({__name:"CustomLayout",setup(e){const{Layout:a}=m;return(t,n)=>(l(),P(A(a),null,{"doc-after":g(()=>[y(q)]),_:1}))}});const H={...m,Layout:G};function v(e){if(e.extends){const a=v(e.extends);return{...a,...e,async enhanceApp(t){a.enhanceApp&&await a.enhanceApp(t),e.enhanceApp&&await e.enhanceApp(t)}}}return e}const s=v(H),K=c({name:"VitePressApp",setup(){const{site:e}=x();return b(()=>{L(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),B(),R(),D(),s.setup&&s.setup(),()=>N(s.Layout)}});async function U(){const e=Q(),a=J();a.provide(S,e);const t=T(e.route);return a.provide(V,t),a.component("Content",$),a.component("ClientOnly",j),Object.defineProperties(a.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),s.enhanceApp&&await s.enhanceApp({app:a,router:e,siteData:F}),{app:a,router:e,data:t}}function J(){return O(K)}function Q(){let e=i,a;return W(t=>{let n=z(t);return e&&(a=n),(e||a===n)&&(n=n.replace(/\.js$/,".lean.js")),i&&(e=!1),I(()=>import(n),[])},s.NotFound)}i&&U().then(({app:e,router:a,data:t})=>{a.go().then(()=>{E(a.route,t.site),e.mount("#app")})});export{U as createApp};
